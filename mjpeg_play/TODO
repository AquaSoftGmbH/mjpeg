IMMEDIATE

Fix mplex so useful info about where streams end is displayed in info
diagnostics

Fix all the BUGS (see BUGS) of course!



TASKS OUTSTANDING

Code hygiene  basically: GNU guidelines!
Basically if you want a nice example of how it should be done take
a look at the source code for vcdimager!

- A lot of the code is in fairly poor shape layout and stylistically.
	Minimally, some needs running through a C prettifier and having
	stuff like "unsigned char" replaced with appropriate types from
	stdint.h via utils/mjpeg_types.h.

- The filtering / decimation code in the lav* utilities is now redundant
	with yuvscale in place... it should be removed once we're happy with
	yuvscale.


- Go through MJPEG lib and add proper error returns.  Go through lavplay
	and lavrec and add proper error handling and break up those oversize
	functions.

- Consistent format for diagnostic messages.   The style used by vcdimager
  prefixing all messages with:

"  INFO:"
"--DEBUG:"
"++ WARN:"


prefixes seems very sensible and worth adopting.  So I pinched the
code used by vcdimager for use as the seed of a utility library for
the mjpeg tools.

A start has been made with mplex, mpeg2enc and mp2enc

- The single-letter soup of the various getopts needs to be replaced
	with getopts_long style command lines.


Medium

- Move the CPU detection code into utils and use the same throughout.

- Find an SSE DCT and iDCT.

- Add support for field pictures to mplex. Not urgent since for most
  sources frame pictures with field DCT/motion compensation seems to
  give better results.

- Chrominance is only taken into account for motion compensation in P-frame's
	for progressive sequences.  Curiously, experimentation showed that
	extension to B-frames was counter-productive. So it is *deliberately*
	not done for them. The necessary code is all written and tested.
	We need to properly resolve this question and extend chrominanc checking
	to P frames in field pictures.
	Also, inclusion of chrominance wieghting should probably be used
	at least from the 22 sub-sampled search level onwards.  Not just as
	a "bail out to Intra coding as present".  Again the issue isn't clear
	as the main need for chrominance checking is when scene changes mean
	MC is nonsense.
	Once we add	scene-change detection it probably won't really matter.

- Get lavtools to use the new up-to-date headers from the drivers...

- Add support for encoding raw (YUV and RGB) AVI files.  	

- Add the code to do DVD multiplexing into mplex.  This is
mainly the addition of facilities to mux in AC-3 as stream PRIVATE1.
As ever Brent Byeler's "bbmpeg" is a good source here.

- Get rid of the silly compulsorary two-pass thing in mplex, replace with a
look-ahead reader instead.

Major

-  I.e. add a dynamic noise reduction filter and an "intelligent" 
   blurring to suppress mosaics. Make it go *still faster* ;-)


