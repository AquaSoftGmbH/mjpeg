
1.		Questions  Motion JPEG (MJPEG) (and MJPEG AVI)

1.1		What is MJPEG?

MJPEG stands for Motion JPEG and is basically video encoded as a
series of JPEG compressed images.  Unfortunately, it is not a proper
rigorously defined standard like MPEG.  For a start MJPEG really only
says frames of video are encoded as JPEG.  To package them together
into a sequence with audio and synchronisation information a "carrier"
format is needed.  This is typically either Microsoft's "AVI" or
Apple's Quicktime format, although the mjpegtools also support a
special "movtar" format in which the stream of JPEG images is stored
in an ordinary tar archive for easy manipulation and unpacking into
individual images.

1.2 I've created an MJPEG AVI or Quicktime file with mjpegtools but it
won't play on my Windows/MacOS machine (or vice versa!).

The Problem is that lack of rigorous definition of MJPEG.  The JPEG
format has a lot of options and, due to the need for speed, the JPEG
encoders/decoders used in MJPEG codecs only support a small subset.
Worse, the different codecs support different subsets.   Its a pain!

1.3	   Why is there a 2GB file-size restriction on individual AVI files
created using mjpegtools?

The original AVI format is inherently limited to files no larger than
2GB as certain internal pointers are only held as 32-bit values.  The
"OpenDML" extensiojns subsequently extended the format to support much
larger files.  Unfortunately, the mjpegtools do not currently support
this format.  

1.4	   How do I get around the 2GB file-size restriction on individual AVI files created using mjpegtools?

The work-around is to use Quicktime or multiple AVI files.  All the
mjpegtools will work with a seq of AVI's just as happily as they would
with a single file.  To create a sequence of AVI's using lavrec you
use a pathname pattern rather than a pathname.  A "%d" in the pathname
you specify is replaced by a sequence number (1,2,3,4,5,6) and so on
and files created as needed.

2.		Questions about MPEG VCD, SVCD and DVD

2.1		What is the difference between MPEG-1 and MPEG-2.

MPEG-2 is (basically) a superset of MPEG-1 that is much more flexible
in terms of data-rates and formats can handle interlaced video.
There's more to it than that but most of the the other differences
relate to support for digital TV broadcasting.

2.2	   How does MPEG-1/MPEG-2 compare to MPEG-4 video (or DivX)

The MPEG-4 video compression standard provides somewhat better
compression at low-to-medium bit-rates (up to around 1Mbps).
Basically, MPEG-4 gives useful pictures where MPEG-1 or MPEG-2 would
start to break down.  At higher data-rates MPEG's own figures suggest
MPEG-4 gains less and less.  MPEG-4 is also not really set up to
encode interlaced video. Basically, if you want to put an acceptable
quality encoding of a Movie onto 1 CD MPEG-4 is the sensible choice.
If you want higher quality and are willing to use 2 CD's MPEG-1/2 will
work at least as well.

2.3	 What is the "multiplexing" business?

An MPEG video stream (as found say on a DVD) is actually one or more
video streams proper interleaved with one or more audio streams in a
special carrier format.  The carrier format also holds the
synchronisation and timing information needed to deliver the audio and
video data to the decoder at just the right time to avoid glitches
without overflowing its memory buffers. Multiplexing takes the video
and audio streams specified and wraps them up in the carrier format
(generating the synchronisation and timing information as it goes).
The latest versions of the multiplexer "mplex" don't actually need
intermediate files for the video and audio streams.  You can feed them
direct from the encoders via fifo's (named pipes - see the "mkfifo" command).


2.4	   Why do I need to use special settings to encode and multiplex MPEG
for VCD, SVCD or DVD.

The MPEG standards are *huge* with many rarely-used or even downright
exotic options.  For use in consumer disk players particular narrowly
defined subsets of MPEG were specified that also added additional
features (e.g. Dolby Digital and DTS audio for DTS) and special
extensions for the disk application (e.g. subtitle images).
Unfortunately, consumer electronics people being who they are the
standards also specify some things that are very "unnatural".  You
have to tell the encoder

2.5	   I'd love to be able to capture video and compress it so that I can
burn it to CD and play it in my DVD player.

Your best bet is probably to compress it as an SVCD stream and use the
"vcdimager" program to create the burnable CD image. Many current DVD
players can play SVCD format CDs.  Unfortunately, there's currently no
free authoring software that would allow the same to be done for
DVD-format MPEG.  Hopefully, this will change someday.


3.		Questions about the MJPEG and audio drivers.

3.1		I've got a Buz card and I just can get it to capture without lots
of dropped frames.

Unfortunately, some aspects of the Buz design make it very sensitive
to devices that share or affect the computer's PCI bus that behave
less-than-perfectly.  The extent of the problems depend both on the
quality of the BIOS and the mainboard chipset.  VIA-based mainboards
are generally particularly awkward in this respect.  The DC10(+) and LML33
boards are much less sensitive than the Buz.


3.2	   I can capture nicely if I disable audio (-a 0 to lavrec) but bad things happen if I enable it.

Unfortunately, the quality of Linux audio drivers *recording*
facilities can still be very patchy.  Especially, the "mmap"
programming interface that lavrec prefers to use.  Often simply
telling it to use the (slightly less accurate) "read" interface fixes
the problem.  Sometimes, the driver is just plain broken and the only
solution is to wait for the problem to be fixed or to get another
sound card.


